"use strict";const moveResult=document.querySelector(".js-move"),showSuccess=document.querySelector(".js-success"),showTime=document.querySelector(".js-time"),allCards=document.querySelectorAll(".memory__card"),btnReset=document.querySelector(".js-btn");let countdown,cardsDiscover=0,card1=null,card2=null,firstResult=null,secondResult=null,move=0,success=0,temp=!1,timer=40,timerInicial=30,numbers=[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8];numbers=numbers.sort(()=>Math.random()-.5);const imagePaths=["./assets/images/frame.png","./assets/images/1.jpg","./assets/images/2.jpg","./assets/images/3.jpg","./assets/images/4.jpg","./assets/images/5.jpg","./assets/images/6.jpg","./assets/images/7.jpg","./assets/images/8.jpg"],preloadImages=s=>{s.forEach(s=>{(new Image).src=s})};preloadImages(imagePaths);const blockCards=()=>{allCards.forEach((s,e)=>{const a=numbers[e];s.innerHTML=`<img class="frame" src="./assets/images/frame.png"/>\n                          <img class="img js-img" src="./assets/images/${a}.jpg"/>`,s.disabled=!0,btnReset.classList.remove("hidden"),cardsDiscover=8})},countTime=()=>{countdown=setInterval(()=>{timer--,showTime.innerHTML=`Tiempo: ${timer} segundos`,0===timer&&(clearInterval(countdown),showSuccess.innerHTML='¡OH NO! ¡Se acabó el tiempo! <img class="icon" src="./assets/images/triste.png" />',allCards.forEach((s,e)=>{const a=numbers[e];s.innerHTML=`<img class="frame" src="./assets/images/frame.png"/>\n                          <img class="img js-img" src="./assets/images/${a}.jpg"/>`,s.disabled=!0,btnReset.classList.remove("hidden"),cardsDiscover=8}))},1e3)},handleClick=s=>{temp||(countdown=setInterval(()=>{timer--,showTime.innerHTML=`Tiempo: ${timer} segundos`,0===timer&&(clearInterval(countdown),showSuccess.innerHTML='¡OH NO! ¡Se acabó el tiempo! <img class="icon" src="./assets/images/triste.png" />',allCards.forEach((s,e)=>{const a=numbers[e];s.innerHTML=`<img class="frame" src="./assets/images/frame.png"/>\n                          <img class="img js-img" src="./assets/images/${a}.jpg"/>`,s.disabled=!0,btnReset.classList.remove("hidden"),cardsDiscover=8}))},1e3),temp=!0),cardsDiscover++,1===cardsDiscover?(card1=document.getElementById(s),firstResult=numbers[s],card1.innerHTML=`<img class="frame" src="./assets/images/frame.png" />\n                      <img class="img js-img" src="./assets/images/${firstResult}.jpg"/>`,card1.disabled=!0):2===cardsDiscover&&(card2=document.getElementById(s),secondResult=numbers[s],card2.innerHTML=`<img class="frame" src="./assets/images/frame.png" />\n                      <img class="img js-img" src="./assets/images/${secondResult}.jpg"/>`,card2.disabled=!0,move++,moveResult.innerHTML="Movimientos: "+move,firstResult===secondResult?(cardsDiscover=0,success++,showSuccess.innerHTML="Aciertos: "+success,8===success&&(cardsDiscover=8,clearInterval(countdown),showSuccess.innerHTML='¡Lo lograste! <img class="icon" src="./assets/images/win.png" />',showTime.innerHTML=`Lo acabaste en ${timerInicial-timer} segundos`,moveResult.innerHTML=`Lo hiciste con ${move} movimientos`,btnReset.classList.remove("hidden"))):setTimeout(()=>{card1.innerHTML="",card2.innerHTML="",card1.disabled=!1,card2.disabled=!1,cardsDiscover=0},800))},handleReset=()=>{btnReset.classList.add("hidden"),cardsDiscover=0,card1=null,card2=null,firstResult=null,secondResult=null,move=0,success=0,temp=!1,timer=40,allCards.forEach(s=>{s.innerHTML="",s.disabled=!1}),numbers=[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8],numbers=numbers.sort(()=>Math.random()-.5),clearInterval(countdown),moveResult.innerHTML="Movimientos: 0",showSuccess.innerHTML="Aciertos: 0",showTime.innerHTML="Tiempo: 40 segundos"};allCards.forEach((s,e)=>{s.addEventListener("click",()=>handleClick(e))}),btnReset.addEventListener("click",handleReset);
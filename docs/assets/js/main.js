"use strict";const moveResult=document.querySelector(".js-move"),showSuccess=document.querySelector(".js-success"),showTime=document.querySelector(".js-time"),btnReset=document.querySelector(".js-btn");let countdown,cardsDiscover=0,card1=null,card2=null,firstResult=null,secondResult=null,move=0,success=0,temp=!1,timer=40,timerInicial=30,gameOver=!1,numbers=[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8];numbers=numbers.sort(()=>Math.random()-.5),console.log(numbers);const countTime=()=>{countdown=setInterval(()=>{timer--,showTime.innerHTML=`Tiempo: ${timer} segundos`,0===timer&&(clearInterval(countdown),showSuccess.innerHTML='¡OH NO! ¡Se acabó el tiempo! <img class="icon" src="./assets/images/triste.png" />',blockCards())},1e3)},resetAllCards=()=>{allCards.forEach(e=>{e.innerHTML="",e.disabled=!1})},blockCards=()=>{allCards.forEach((e,s)=>{const r=numbers[s];e.innerHTML=`<img class="frame" src="./assets/images/frame.png" /><img class="img js-img" src="./assets/images/${r}.jpg"/>`,e.disabled=!0,btnReset.classList.remove("hidden")})},allCards=document.querySelectorAll(".memory__card");allCards.forEach(e=>{e.innerHTML="",e.disabled=!1});const uncover=e=>{temp||(countdown=setInterval(()=>{timer--,showTime.innerHTML=`Tiempo: ${timer} segundos`,0===timer&&(clearInterval(countdown),showSuccess.innerHTML='¡OH NO! ¡Se acabó el tiempo! <img class="icon" src="./assets/images/triste.png" />',blockCards())},1e3),temp=!0),gameOver||(cardsDiscover++,console.log(cardsDiscover),1===cardsDiscover?(card1=document.getElementById(e),firstResult=numbers[e],card1.innerHTML=`<img class="frame" src="./assets/images/frame.png" /><img class="img js-img" src="./assets/images/${firstResult}.jpg"/>`,card1.disabled=!0):2===cardsDiscover&&(card2=document.getElementById(e),secondResult=numbers[e],card2.innerHTML=`<img class="frame" src="./assets/images/frame.png" /><img class="img js-img" src="./assets/images/${secondResult}.jpg"/>`,card2.disabled=!0,move++,moveResult.innerHTML="Movimientos: "+move,firstResult==secondResult?(cardsDiscover=0,success++,showSuccess.innerHTML="Aciertos: "+success,8===success&&(clearInterval(countdown),showSuccess.innerHTML='¡Lo lograste! <img class="icon" src="./assets/images/win.png" />',showTime.innerHTML=`Lo acabaste en ${timerInicial-timer} segundos`,moveResult.innerHTML=`Lo hiciste con ${move} movimientos`,btnReset.classList.remove("hidden"))):setTimeout(()=>{card1.innerHTML="",card2.innerHTML="",card1.disabled=!1,card2.disabled=!1,cardsDiscover=0},800),(gameOver||8===success||0===timer)&&(gameOver=!0,blockCards())))},handleReset=()=>{btnReset.classList.add("hidden"),cardsDiscover=0,card1=null,card2=null,firstResult=null,secondResult=null,move=0,success=0,temp=!1,timer=40;document.querySelectorAll(".memory__card").forEach(e=>{e.innerHTML="",e.disabled=!1}),gameOver=!1,numbers=[1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8],numbers=numbers.sort(()=>Math.random()-.5),console.log(numbers),clearInterval(countdown),moveResult.innerHTML="Movimientos: 0",showSuccess.innerHTML="Aciertos: 0",showTime.innerHTML="Tiempo: 40 segundos"};btnReset.addEventListener("click",handleReset);